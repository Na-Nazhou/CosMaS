<% layout('layout') -%>
<div class="container">
  <h1 class="mt-3 mb-3">
    Top 5 Diligent Students in semester <%=semester_name%>
  </h1>
  <%-partial('./partials/messages', { messages: flash() })%>
  <table class="table table-hover">
    <thead>
      <tr>
        <th scope="col">User ID</th>
        <th scope="col">Name</th>
        <th scope="col">Total Credits</th>
        <th scope="col">Number of Courses</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      <% for(let i = 0; i < insights.length; i++) { %>
      <tr>
        <td><%= insights[i].id %></td>
        <td><%= insights[i].name %></td>
        <td><%= insights[i].total_credits %></td>
        <td><%= insights[i].num_courses %></td>
        <td>
          <a href="<%=userDashboardPath(insights[i].id)%>" class="btn btn-primary">
            <i class="far fa-eye"></i>
          </a>
        </td>
      </tr>
      <% } %>
    </tbody>
  </table>
</div>
<div class="container">
  <h1 class="mt-3 mb-3">
    Users (<%= data.length %>)
  </h1>
  <%-partial('./partials/messages', { messages: flash() })%>
  <table class="table table-hover">
    <thead>
      <tr>
        <th scope="col">User ID</th>
        <th scope="col">Name</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      <% for(let i = 0; i < data.length; i++) { %>
      <tr>
        <td><%= data[i].id %></td>
        <td><%= data[i].name %></td>
        <td>
          <a href="<%=userDashboardPath(data[i].id)%>" class="btn btn-primary">
            <i class="far fa-eye"></i>
          </a>
          <a href="/users/<%= data[i].id %>/edit" class="btn btn-success">
            <i class="fas fa-edit"></i>
          </a>
          <%-partial('./partials/deleteButton', { action: `/users/${data[i].id}` })%>
        </td>
      </tr>
      <% } %>
    </tbody>
  </table>
</div>
