<% layout('layout') -%>
<div class="container col-md-4 col-md-offset-4">
  <h1 class="text-center mt-3 mb-3">Add Course Members</h1>
  <%-partial('./partials/messages', { messages: flash() })%>
  <form id="course_membership_form" action="<%= courseMembershipsPath(semester_name, module_code)%>" role="form"
    method="post">
    <div class="form-group">
      <label for="semester_name">Semester Name</label>
      <input type="text" class="form-control" id="semester_name" name="semester_name"
        value="<%=semester_name%>" readonly> </input>
    </div>
    <div class="form-group">
      <label for="module_code">Module Code</label>
      <input type="text" class="form-control" id="module_code" name="module_code" value="<%=module_code%>" readonly>
      </input>
    </div>
    <div class="form-group">
      <label for="module_code">Role</label>
      <% if (user.is_admin) { %>
      <select class="selectpicker form-control" id="role" name="role" required="role">
        <option value="professor">Professor</option>
        <option value="TA">Teaching Assistant</option>
        <option value="student">Student</option>
      </select>
      <% } else { %>
        <input type="text" class="form-control" id="role" name="role" value="TA" readonly> </input>
      <% } %>
    </div>
    <div class="form-group">
      <label for="user_ids">New Members</label>
      <select multiple class="selectpicker form-control" multiple data-selected-text-format="count > 3" id="user_ids"
        name="user_ids" data-live-search="true" data-actions-box="true">
        <% for (let i = 0; i < options.length; i++) { %>
        <option value="<%=options[i].id%>">
          <%= options[i].id%> <%= options[i].name%>
        </option>
        <% } %>
      </select>
    </div>
    <button type="submit" class="btn btn-primary">Create</button>
  </form>
</div>