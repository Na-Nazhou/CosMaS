<% layout('layout') -%>
<div class="container col-md-4 col-md-offset-4">
  <h1 class="text-center mt-3 mb-3">Update Group TA</h1>
  <%-partial('./partials/messages', { messages: flash() })%>
  <form id="TA_form" action="<%=groupTAsPath(semester_name, module_code, group_name)%>" role="form" method="POST">
    <div class="form-group">
      <label for="semester_name">Semester Name</label>
      <input
        type="text"
        class="form-control"
        id="semester_name"
        name="semester_name"
        value="<%= semester_name %>"
        readonly
      />
    </div>
    <div class="form-group">
      <label for="module_code">Module Code</label>
      <input type="text" class="form-control" id="module_code" name="module_code" value="<%= module_code %>" readonly />
    </div>
    <div class="form-group">
      <label for="title">Group Name</label>
      <input
        type="text"
        class="form-control"
        id="group_name"
        name="group_name"
        required="required"
        value="<%= group_name %>"
        readonly
      />
    </div>
    <div class="form-group">
      <label for="group_names">TAs</label>
      <select
        multiple
        class="selectpicker form-control"
        id="TA_names"
        name="TA_names"
        data-live-search="true"
        data-actions-box="true"
      >
        <% for(let i = 0; i < options.length; i++) { %> <% if (selected.includes(options[i].user_id)) { %>
        <option selected value="<%=options[i].user_id%>">
          <%= options[i].user_id%> <%= options[i].name%>
        </option>
        <% } else { %>
        <option value="<%=options[i].user_id%>">
          <%= options[i].user_id%> <%= options[i].name%>
        </option>
        <% } %> <% } %>
      </select>
    </div>
    <button type="submit" class="btn btn-primary">Update</button>
  </form>
</div>
